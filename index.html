<!DOCTYPE html>
<html>
  <body>
    <script>
      let chatOpened = true;
      function logToRN(msg){
        window.ReactNativeWebView?.PostMessage(msg);
      }
      function initCXone(){
        logToRN('Loading CXone SDK...');
        (function (n,u) {
        window.CXoneDfo = n;
        window[n] = window[n] || function () {
            (window[n].q = window[n].q || []).push(arguments);
          };
        window[n].u = u;
          const e = document.createElement("script");
          e.type = "text/javascript";
          e.src = u + "?" + Math.round(Date.now() / 1e3 / 3600);
          e.onload = () => {
            logToRN('CXone SDK Loaded');
            openChat();
          };
          e.onerror = () => logToRN('CXone SDK failed to load');
          document.head.appendChild(e);
        })("cxone","https://web-modules-de-na1.niceincontact.com/loader/1/loader.js");
      }
      function openChat(){
        logToRN('openchat clicked');
        if(!window.cxone){
          logToRN('CXone not initialized');
          return;
        }
        cxone('init','5781');
        cxone('guide','init');
        cxone('guide','openEntrypoint','3709ad1a-582c-4d6b-8ec4-f1b125611e04');
        cxone('chat','setCaseCustomField','memberid','kjkkj6868');
        cxone('chat','setCaseCustomField','policyid','llklkl989');
        // cxone('chat','setCaseCustomField',);
        logToRN('Chat open command sent');
      }
      window.onload = initCXone;
    </script>
  </body>
</html>






  

      


